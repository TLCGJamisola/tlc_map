<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>TLC Classrooms</title>
  <link rel="icon" href="favicon.png" type="image/png">
  <style>
    html, body {
      margin: 0;
      height: 100%;
      overflow: hidden;
    }
    #svg-container {
      width: 100%;
      height: 100vh;
      border: 1px solid #ccc;
    }
	#svg-wrapper {
	  height: 100%;
	  width: 100%;
	}
    svg {
      width: 100%;
      height: 100%;
	  touch-action: none;
    }
	#instruction-box {
      position: absolute;
      top: 10px;
      left: 10px;
      background: rgba(0, 0, 0, 0.6);
      color: white;
      padding: 8px 12px;
      font-size: 14px;
      border-radius: 6px;
      z-index: 1000;
      font-family: Arial, sans-serif;
    }
	
	#button-panel {
	  position: absolute;
	  top: 10px;
	  right: 10px;
	  z-index: 1001;
	  display: flex;
	  flex-direction: column;
	  gap: 20px;
	}

	#button-panel button {
	  background-color: #007BFF;
	  color: white;
	  border: none;
	  padding: 26px 30px;
	  border-radius: 4px;
	  cursor: pointer;
	  font-size: 18px;
	  transition: background 0.2s;
	  font-family: Arial, sans-serif;
	}

	#button-panel button:hover {
	  background-color: #0056b3;
	}
		
  </style>
</head>
<body>

<div id="svg-container">
	<div id="instruction-box">
		üñ±Ô∏èScroll to zoom, click and drag to move
	</div>
	
	<div id="button-panel">
	  <button onclick="showSVG('first_floor.svg', 1)" id="btnfloor1">FIRST FLOOR</button>
	  <button onclick="showSVG('second_floor.svg', 2)" id="btnfloor2">SECOND FLOOR</button>
	  <button onclick="showSVG('third_floor.svg', 3)" id="btnfloor3">THIRD FLOOR</button>
	</div>    
   
   
	<div id="svg-wrapper">
		
		
	</div>
</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/hammer.js/2.0.8/hammer.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/svg-pan-zoom@3.6.1/dist/svg-pan-zoom.min.js"></script>
<script>
   let panZoom;
   function showSVG(filename, floorno) 
   {
	  if (panZoom) {
        panZoom.destroy();
      }
	  document.getElementById("btnfloor1").style.backgroundColor ="#007BFF";
	  document.getElementById("btnfloor2").style.backgroundColor="#007BFF";
	  document.getElementById("btnfloor3").style.backgroundColor="#007BFF";
	  
	  document.getElementById("btnfloor"+floorno).style.backgroundColor="#00A86B";
	  
	  fetch(filename)
		.then(response => response.text())
		.then(svgContent => {
		  document.getElementById("svg-wrapper").innerHTML = svgContent;
		    const selectedSVG = document.querySelector("#svg-wrapper svg");
			
			panZoom = svgPanZoom(selectedSVG, {
			  zoomEnabled: true,
			  controlIconsEnabled: true,
			  fit: true,
			  center: true
			});
			
			const hammer = new Hammer(selectedSVG);
			hammer.get('pinch').set({ enable: true });

			let initialZoom = panZoom.getZoom();

			hammer.on('pinchstart', function () {
			  initialZoom = panZoom.getZoom();
			});

			hammer.on('pinch', function (ev) {
			  panZoom.zoom(initialZoom * ev.scale);
			});
			
		})
		.catch(err => {
		  console.error("Error loading SVG:", err);
		});
		
	}
  
    window.addEventListener("load", () => {
	 showSVG("first_floor.svg", 1);
   });
  
</script>

</body>
</html>